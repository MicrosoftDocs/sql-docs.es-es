---
title: Uso de SQL Server características y capacidades | Microsoft Docs
description: Obtenga información sobre SQL Server características y capacidades, y su uso en la base de datos de ejemplo WideWorldImporters.
ms.prod: sql
ms.prod_service: sql
ms.technology: samples
ms.custom: ''
ms.date: 01/21/2017
ms.reviewer: ''
ms.topic: conceptual
ms.assetid: 06f89721-8478-4abc-8ada-e9c73b08bf51
author: MashaMSFT
ms.author: mathoma
ms.openlocfilehash: 6e20d90d91badcd0961ab03e219bbf6e9a8ae2c8
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: MT
ms.contentlocale: es-ES
ms.lasthandoff: 02/10/2021
ms.locfileid: "100354058"
---
# <a name="use-of-sql-server-features-and-capabilities"></a>Uso de SQL Server características y capacidades

[!INCLUDE [SQL Server Azure SQL Database](../includes/applies-to-version/sql-asdb.md)]

WideWorldImporters el uso de características y capacidades de SQL Server en la base de datos OLTP.

WideWorldImporters está diseñado para presentar muchas de las características clave de SQL Server, incluidas las últimas características introducidas en SQL Server 2016. En la tabla siguiente se enumeran las características y capacidades de SQL Server. Cada fila también proporciona una descripción de cómo se usan las características en WideWorldImporters.  
&nbsp;

|SQL Server característica o funcionalidad|Usar en WideWorldImporters|
|:-------------------------------|:------------------------|
|Tablas temporales|Hay muchas tablas temporales, incluidas todas las tablas de referencia de estilo de búsqueda y las entidades principales como StockItems, Customers y Suppliers. El uso de tablas temporales permite realizar un seguimiento práctico del historial de estas entidades.|
|Llamadas AJAX para JSON|A menudo, la aplicación usa llamadas AJAX para consultar estas tablas: personas, clientes, proveedores y StockItems. Las llamadas devuelven los datos en formato JSON. Por ejemplo, vea el procedimiento almacenado `Website.SearchForCustomers` .|
|Bolsas de propiedad/valor JSON|Un número de tablas tiene columnas que contienen datos JSON para ampliar los datos relacionales de la tabla. Por ejemplo, `Application.SystemParameters` tiene una columna para la configuración de la aplicación y `Application.People` tiene una columna para registrar las preferencias del usuario. En estas tablas se usa una `nvarchar(max)` columna para registrar los datos JSON, junto con una restricción CHECK mediante la función integrada `ISJSON` para asegurarse de que los valores de columna son JSON válidos.|
|Seguridad de nivel de fila (RLS)|Seguridad de nivel de fila (RLS) se usa para limitar el acceso a la tabla Customers, en función de la pertenencia a roles. Cada territorio de ventas tiene un rol y un usuario. Para ver un límite de acceso de RLS en acción, use el script correspondiente en sample-script.zip, que forma parte de la [versión del ejemplo](https://go.microsoft.com/fwlink/?LinkID=800630).|
|análisis operativo en tiempo real|(Versión completa de la base de datos) Las tablas transaccionales principales `Sales.InvoiceLines` y `Sales.OrderLines` ambas tienen un índice de almacén de columnas no agrupado para admitir la ejecución eficaz de consultas analíticas en la base de datos transaccional con un impacto mínimo en la carga de trabajo operativa. La ejecución de transacciones y análisis en la misma base de datos también se conoce como [procesamiento analítico y transaccional híbrido (HTAP)](https://wikipedia.org/wiki/Hybrid_Transactional/Analytical_Processing_(HTAP)). Para ver esto en acción, use el script correspondiente en sample-script.zip, que forma parte de la [versión del ejemplo](https://go.microsoft.com/fwlink/?LinkID=800630).|
|PolyBase|Para ver esta polybase en acción, mediante una tabla externa con un conjunto de datos público hospedado en el almacenamiento de blog de Azure, use el script correspondiente en sample-script.zip, que forma parte de la [versión del ejemplo](https://go.microsoft.com/fwlink/?LinkID=800630).|
|OLTP en memoria|(Versión completa de la base de datos) Los tipos de tabla están optimizados para memoria, de modo que los parámetros con valores de tabla (TVP) se benefician de la optimización de memoria.<br/><br/>Las dos tablas de supervisión, `Warehouse.VehicleTemperatures` y `Warehouse.ColdRoomTemperatures` , están optimizadas para memoria. La optimización de memoria permite que la tabla ColdRoomTemperatures se llene a mayor velocidad que una tabla basada en disco tradicional. La tabla VehicleTemperatures contiene la carga útil de JSON y se presta a la extensión hacia escenarios de IoT. La tabla VehicleTemperatures se presta a los escenarios que implican EventHubs, Stream Analytics y Power BI.<br/><br/>El procedimiento almacenado `Website.RecordColdRoomTemperatures` se compila de forma nativa para mejorar aún más el rendimiento de la grabación de las temperaturas de la habitación fría.<br/><br/>Para ver un ejemplo de In-Memory OLTP en acción, consulte el controlador de carga de trabajo de ubicaciones de vehículos en workload-drivers.zip, que forma parte de la [versión del ejemplo](https://go.microsoft.com/fwlink/?LinkID=800630).|
|Índice de almacén de columnas agrupado|(Versión completa de la base de datos) La tabla `Warehouse.StockItemTransactions` utiliza un índice de almacén de columnas agrupado. Se espera que el número de filas de esta tabla crezca mucho y el índice de almacén de columnas agrupado reduce considerablemente el tamaño en disco de la tabla y mejora el rendimiento de las consultas. La modificación en esta tabla es de solo inserción; no hay ninguna actualización/eliminación en esta tabla en la carga de trabajo en línea y el índice de almacén de columnas en clúster se ejecuta correctamente para las cargas de trabajo de inserción.|
|Enmascaramiento dinámico de datos|En el esquema de la base de datos, el enmascaramiento de datos se ha aplicado a los detalles del Banco que se mantienen para los proveedores en la tabla `Purchasing.Suppliers` . El personal no administrador no tendrá acceso a esta información.|
|Always Encrypted|En el samples.zip descargable se incluye una demostración de Always Encrypted, que forma parte de la [versión del ejemplo](https://go.microsoft.com/fwlink/?LinkID=800630). En esta demostración se crea una clave de cifrado, una tabla que usa el cifrado de datos confidenciales y una pequeña aplicación de ejemplo que inserta datos en la tabla.|
|Stretch Database|La `Warehouse.ColdRoomTemperatures` tabla se ha implementado como una tabla temporal y está optimizada para memoria en la versión completa de la base de datos de ejemplo. La tabla de archivo está basada en disco y se puede ajustar a Azure.|
|Índices de texto completo|Los índices de texto completo mejoran las búsquedas de personas, clientes y StockItems. Los índices se aplican a las consultas solo si tiene instalada una indización de texto completo en la instancia de SQL Server. Una columna calculada no persistente se usa para crear los datos con índice de texto completo en la tabla StockItems.<br/><br/>`CONCAT` se usa para concatenar los campos con el fin de crear SearchData que está indizada por texto completo.<br/>Para habilitar el uso de índices de texto completo en el ejemplo, ejecute la siguiente instrucción en la base de datos:<br/><br/>`EXECUTE [Application].[Configuration_ConfigureFullTextIndexing]`<br/><br/>El procedimiento crea un catálogo de texto completo predeterminado si aún no existe uno y, a continuación, reemplaza las vistas de búsqueda por versiones de texto completo de esas vistas).<br/><br/>Tenga en cuenta que el uso de índices de texto completo en SQL Server requiere la selección de la opción Full-Text durante la instalación. Azure SQL Database no requiere y una configuración específica para habilitar los índices de texto completo.|
|Columnas calculadas persistentes indizadas|Columnas calculadas persistentes indizadas usadas en SupplierTransactions y CustomerTransactions.|
|Restricciones CHECK|Hay una restricción de comprobación relativamente compleja en `Sales.SpecialDeals` . Esto garantiza que solo se configuran uno de los DiscountAmount, DiscountPercentage y UnitPrice.|
|Restricciones únicas|Una construcción varios a varios (y restricciones UNIQUE) se configuran para `Warehouse.StockItemStockGroups` .|
|Partición de tabla|(Versión completa de la base de datos) Las tablas `Sales.CustomerTransactions` y `Purchasing.SupplierTransactions` están particionadas por año mediante la función de partición `PF_TransactionDate` y el esquema de partición `PS_TransactionDate` . La creación de particiones se utiliza para mejorar la capacidad de administración de tablas de gran tamaño.|
|Procesamiento de lista|Se proporciona un tipo de tabla de ejemplo `Website.OrderIDList` . Se usa en un procedimiento de ejemplo `Website.InvoiceCustomerOrders` . El procedimiento utiliza expresiones de tabla comunes (CTE), TRY/CATCH, JSON_MODIFY, XACT_ABORT, NOCOUNT, THROW y XACT_STATE para mostrar la capacidad de procesar una lista de pedidos en lugar de un solo pedido, con el fin de minimizar los recorridos de ida y vuelta de la aplicación al motor de base de datos.|
|Compresión GZip|En la `Warehouse.VehicleTemperature` vista, su tabla contiene datos completos del sensor. Pero cuando estos datos tienen más de unos meses, se comprimen para ahorrar espacio. La función COMPRESS usa la compresión GZip.<br/><br/>La vista `Website.VehicleTemperatures` usa la función descomprimir al recuperar los datos que se comprimieron previamente.|
|Almacén de consultas|Almacén de consultas está habilitada en la base de datos. Después de ejecutar algunas consultas, realice los pasos siguientes:<br/><br/>1. Abra la base de datos en Management Studio.<br/>2. Abra el nodo Almacén de consultas, que está en la base de datos.<br/>3. Abra las *consultas de consumo de recursos principales* del informe. Vea las ejecuciones de la consulta y vea los planes de las consultas que acaba de ejecutar.|
|STRING_SPLIT|La columna `DeliveryInstructions` de la tabla `Sales.Invoices` tiene un valor delimitado por comas que se puede usar para mostrar STRING_SPLIT.|
|Auditoría|SQL Server auditoría se puede habilitar para esta base de datos de ejemplo mediante la ejecución de la siguiente instrucción en la base de datos:<br/><br/>`EXECUTE [Application].[Configuration_ApplyAuditing]`<br/><br/>En Azure SQL Database, la auditoría se habilita a través de la [Azure portal](https://portal.azure.com/).<br/><br/>Las operaciones de seguridad que implican inicios de sesión, roles y permisos se registran en todos los sistemas en los que está habilitada la auditoría (incluidos los sistemas de Standard Edition). La auditoría se dirige al registro de la aplicación porque está disponible en todos los sistemas y no requiere permisos adicionales. Se proporciona una advertencia que, para una mayor seguridad, se debe redirigir al registro de seguridad o a un archivo en una carpeta segura. Se proporciona un vínculo para describir la configuración adicional requerida.<br/><br/>En el caso de los sistemas de evaluación/desarrollador/Enterprise Edition, se audita el acceso a todos los datos transaccionales financieros.|
| &nbsp; | &nbsp; |
