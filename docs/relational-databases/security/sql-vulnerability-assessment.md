---
title: Evaluación de vulnerabilidad de SQL | Microsoft Docs
description: Use la herramienta Evaluación de vulnerabilidades de SQL para detectar y corregir posibles vulnerabilidades en bases de datos de SQL Server, así como realizar un seguimiento.
ms.custom: ''
ms.date: 11/30/2017
ms.prod: sql
ms.prod_service: security, sql-database
ms.reviewer: ''
ms.technology: security
ms.topic: conceptual
helpviewer_keywords:
- SQL Vulnerability Assessment
author: yualan
ms.author: alayu
monikerRange: =azuresqldb-current||>=sql-server-2016||>=sql-server-linux-2017||=azuresqldb-mi-current
ms.openlocfilehash: 322501044a3f7766c81f5deee7b11c193c89e918
ms.sourcegitcommit: 917df4ffd22e4a229af7dc481dcce3ebba0aa4d7
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 02/10/2021
ms.locfileid: "100340111"
---
# <a name="sql-vulnerability-assessment"></a>Evaluación de vulnerabilidad de SQL

[!INCLUDE [SQL Server Azure SQL Database](../../includes/applies-to-version/sql-asdb.md)]

Evaluación de vulnerabilidad de SQL es una herramienta fácil de usar que puede ayudarle a detectar posibles vulnerabilidades de la base de datos, realizar su seguimiento y corregirlas. Úsela para mejorar la seguridad de la base de datos de manera proactiva.

Evaluación de vulnerabilidad se **admite en SQL Server 2012 y versiones posteriores** y también se puede ejecutar en [Azure SQL Database](/azure/sql-database/sql-vulnerability-assessment).

## <a name="vulnerability-assessment-features"></a>Características de Evaluación de vulnerabilidad
Evaluación de vulnerabilidad (VA) de SQL es un servicio que proporciona visibilidad sobre el estado de seguridad e incluye pasos que requieren acción para resolver problemas de seguridad y mejorar la seguridad de la base de datos. En este sentido, le puede ayudar a:
- Satisfacer los requisitos de cumplimiento que requieren los informes de examen de base de datos 
- Cumplir los estándares de privacidad de los datos
- Supervisar un entorno de base de datos dinámico donde resulta difícil realizar un seguimiento de los cambios

El servicio VA ejecuta un examen directamente en la base de datos. El servicio emplea una base de reglas de conocimientos que marcan las vulnerabilidades de seguridad y resaltan las desviaciones con respecto a los procedimientos recomendados, como errores de configuración, permisos excesivos y datos confidenciales sin protección. Las reglas se basan en procedimientos recomendados de Microsoft y se centran en los problemas de seguridad que presentan los riesgos más grandes para la base de datos y sus valiosos datos. Estas reglas también representan muchos de los requisitos que deben cumplir diversos organismos reguladores para satisfacer los estándares de cumplimiento.

Los resultados del examen incluyen pasos que requieren acción para corregir cada uno de los problemas y proporcionan scripts de solución personalizados donde sea aplicable. Un informe de evaluación se puede personalizar para el entorno y establecer una línea de base aceptable para las configuraciones de permisos, configuraciones de características y configuraciones de bases de datos. 

## <a name="prerequisites"></a>Requisitos previos
Esta característica solo está disponible en la versión 17.4 de SQL Server Management Studio (SSMS) u otras posteriores. Asegúrese de utilizar la última versión, que podrá encontrar [aquí](../../ssms/download-sql-server-management-studio-ssms.md).

## <a name="getting-started"></a>Introducción
Para comenzar a ejecutar una evaluación de vulnerabilidades, siga estos pasos:
   1.   Abra **SQL Server Management Studio**.

   2.   Conéctese a una instancia de Motor de base de datos de SQL Server o el localhost.

   3.   Expanda **Bases de datos**, haga clic con el botón derecho en una base de datos, seleccione **Tareas**, seleccione **Evaluación de vulnerabilidad** y haga clic en **Detectar vulnerabilidades...**

   4.   Puede ejecutar un examen que compruebe si hay problemas en el nivel de servidor mediante el examen de una de las bases de datos del sistema. Expanda **Bases de datos del sistema**, haga clic con el botón derecho en la base de datos **maestra**, seleccione **Tareas**, seleccione **Evaluación de vulnerabilidad** y haga clic en **Detectar vulnerabilidades...**

   ![inicio](media/sql-vulnerability-assessment/1-SSMSGetStarted.png)

## <a name="tutorial"></a>Tutorial
Siga estos pasos para ejecutar y administrar las evaluaciones de vulnerabilidades en las bases de datos.

### <a name="1-run-a-scan"></a>1. Ejecución de un examen

El cuadro de diálogo Detectar vulnerabilidades permite especificar la ubicación donde se guardarán los exámenes. Puede dejar la ubicación predeterminada o hacer clic en **Examinar...** para guardar los resultados del examen en una ubicación diferente.

Cuando esté listo para el examen, haga clic en **Aceptar** para examinar la base de datos en busca de vulnerabilidades.

  > [!NOTE]   
  > El examen es ligero y seguro. Tarda unos segundos en ejecutarse y es completamente de lectura. No realiza ningún cambio en la base de datos.

![guardar archivo de examen](media/sql-vulnerability-assessment/2-ssmssavescanfile.png)

### <a name="2-view-the-report"></a>2. Visualización del informe

Una vez finalizado el examen, se muestra automáticamente el informe de esta operación en el panel principal de SSMS. El informe presenta información general sobre el estado de seguridad, cuántos problemas se encontraron y sus niveles de gravedad respectivos. Los resultados incluyen advertencias sobre las desviaciones con respecto a los procedimientos recomendados, así como una instantánea de la configuración relacionada con la seguridad, como las entidades de seguridad y los roles de base de datos y sus permisos asociados. El informe de examen también proporciona un mapa de datos confidenciales detectados en la base de datos e incluye recomendaciones de los métodos integrados disponibles para protegerlo.

![resultados de examen](media/sql-vulnerability-assessment/3-ssmsscanresults.png)

### <a name="3-analyze-the-results-and-resolve-issues"></a>3. Análisis de resultados y solución de problemas

Revise los resultados y determine qué hallazgos del informe son verdaderos problemas de seguridad en el entorno. Profundice hasta cada resultado con error para comprender el impacto del hallazgo y el motivo del error de cada comprobación de seguridad. Use la información de corrección que requiere acción que se proporciona en el informe para resolver el problema.

![detalles de resultados](media/sql-vulnerability-assessment/4-ssmsresultdetails.png)

### <a name="4-set-your-baseline"></a>4. Establecimiento de la línea de base

Cuando revise los resultados de la evaluación, puede marcar los resultados específicos como una **línea de base** aceptable en su entorno. La línea de base es fundamentalmente una personalización de cómo se notifican los resultados. Los resultados que coinciden con la línea de base se consideran como correctos en análisis posteriores. 

Una vez que ha establecido el estado de seguridad de línea de base, Evaluación de vulnerabilidad notifica únicamente las desviaciones con respecto a esta línea de base, y puede centrar su atención en los problemas importantes.

![establecer línea de base](media/sql-vulnerability-assessment/5-ssmssetbaseline.png)

### <a name="5-run-a-new-scan-to-see-your-customized-tracking-report"></a>5. Ejecución de un nuevo examen para ver el informe de seguimiento personalizado

Después de completar la configuración de sus **líneas de base de la regla**, ejecute un examen nuevo para ver el informe personalizado. Ahora, Evaluación de vulnerabilidad solo notifica los problemas de seguridad incorrectos que se desvían del estado de línea de base aprobado.

![correcto por línea de base](media/sql-vulnerability-assessment/6-ssmspassperbaseline.png)

### <a name="6-open-a-previously-run-scan"></a>6. Apertura de un examen ejecutado previamente

En cualquier momento puede ver los resultados de las evaluaciones de vulnerabilidad ejecutadas anteriormente con solo abrir un análisis existente. Para ello, haga clic con el botón derecho en una base de datos, seleccione **Tareas**, **Evaluación de vulnerabilidad** y haga clic en **Abrir análisis existente…**  Seleccione el archivo de resultados de examen que quiere ver y haga clic en **Abrir**. 

También puede abrir un resultado de examen existente mediante el menú **Archivo -> Abrir**. Seleccione **Evaluación de vulnerabilidad...** y abra el directorio **scans** para buscar el resultado del examen que quiere ver.

![abrir examen existente](media/sql-vulnerability-assessment/7-ssmsopenexistingscan.png)

Evaluación de vulnerabilidad puede usarse ahora para supervisar que las bases de datos mantengan un alto nivel de seguridad en todo momento y que se cumplan las directivas de la organización. Si se requieren informes de cumplimiento, los informes de Evaluación de vulnerabilidad pueden ser útiles para facilitar el proceso de cumplimiento.

## <a name="manage-vulnerability-assessments-using-powershell"></a>Administrar las evaluaciones de vulnerabilidad con PowerShell
Puede usar cmdlets de PowerShell para administrar mediante programación las evaluaciones de vulnerabilidad de las instancias de SQL Server. Los cmdlets se pueden usar para ejecutar las evaluaciones mediante programación, exportar los resultados y administrar bases de referencia.
Para comenzar, descargue la versión más reciente del [módulo SqlServer PowerShell](https://www.powershellgallery.com/packages/SqlServer/) del sitio Galería de PowerShell. Puede obtener más información [aquí](/archive/blogs/sqlsecurity/powershell-cmdlets-for-managing-sql-vulnerability-assessments).

## <a name="next-steps"></a>Pasos siguientes
Puede aprender más sobre Evaluación de vulnerabilidad de SQL mediante los siguientes recursos:
- [Ejecución de una evaluación de vulnerabilidad en Azure SQL Database](/azure/sql-database/sql-vulnerability-assessment) 
- [Vídeo de Canal 9 que muestra el uso de Evaluación de vulnerabilidad](https://channel9.msdn.com/Shows/Data-Exposed/Track-and-remediate-potential-database-vulnerabilities-with-SQL-Vulnerability-Assessment)


